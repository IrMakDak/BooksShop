{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAA2C;AACK;AACH;AACI;AACb;AACM;AACa;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,gCAAgC,gBAAgB;AAChD,IAAI,sDAAe;AACnB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,IAAI,yDAAkB;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA,IAAI,uDAAa;AACjB,iBAAiB,+DAAW;AAC5B;AACA,YAAY,0DAAW;AACvB;AACA;AACA;AACA;AACA;AACA,2DAA2D,cAAc;AACzE,+BAA+B,YAAY;AAC3C;AACA;AACA,6DAA6D,WAAW;AACxE;AACA;AACA;AACA;;AAEA;AACA,YAAY,uDAAe;AAC3B;AACA,KAAK;AACL;AACA,IAAI,qDAAW;AACf;AACA;AACA;;AAEA;AACA;AACA,IAAI,sDAAS;;AAEb;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS,0DAAW;;AAEpB;AACA;AACA;AACA;AACA,uDAAuD,SAAS;AAChE,2BAA2B,OAAO;AAClC;AACA;AACA,yDAAyD,MAAM;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEmD;AACnD,iEAAe,aAAa;;;;;;;;;;;;;;AC/K5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,SAAS,QAAQ,UAAU;AACvD;AACA,gDAAgD,YAAY;AAC5D,8CAA8C,cAAc;AAC5D,+CAA+C,WAAW;AAC1D;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iEAAe,OAAO;;;;;;;;;;;;;;;AClCtB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEoB;AACpB,iEAAe,eAAe;;;;;;;;;;;;;;;AC9D6B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,kDAAO;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,qDAAU;AAClB,QAAQ,mDAAQ;AAChB;AACA;AACA;AACA,iEAAe,QAAQ,EAAC;;;;;;;;;;;;;;;;;ACtCmB;AACP;AACpC;AACA;AACA;AACA;AACA,IAAI,sDAAS;AACb;AACA;AACA,uCAAuC;AACvC,kFAAkF,aAAa,eAAe,YAAY,OAAO,UAAU,aAAa,WAAW,EAAE,aAAa,QAAQ,kBAAkB;AAC5M;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAe;AACnB;AACA;AACA,iEAAe,aAAa;;;;;;;;;;;;;;;ACpB5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,iEAAe,kBAAkB,EAAC;AACb;;;;;;;;;;;;;;;;ACnBmB;;AAExC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAqC,MAAM;AAC3C;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA,iEAAe,WAAW;;;;;;;;;;;;;;ACnB1B;AACA;;AAEA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;AAIA,iEAAe,SAAS;;;;;;;;;;;;;;ACvCxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,SAAS;;;;;;;;;;;;;;;;ACbmB;AACP;;AAEpC;;AAEA;;AAEA;AACA;AACA;;AAEA,YAAY,sDAAS;;AAErB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C;AAC/C,+CAA+C,SAAS;AACxD,iDAAiD,OAAO;AACxD,gDAAgD,MAAM;AACtD;AACA;AACA;AACA,YAAY,uDAAe;AAC3B,SAAS;AACT,KAAK;AACL;;AAEA,iEAAe,SAAS;;;;;;;;;;;;;;;;;;ACrCY;AACI;AACG;AACL;AACM;;AAE5C;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,wBAAwB,sDAAW;AACnC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;;AAEA;AACA,QAAQ,uDAAU;AAClB,QAAQ,sDAAS;AACjB,QAAQ,uDAAe;;AAEvB;AACA,YAAY,sDAAW;AACvB,SAAS;;AAET;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,uDAAU;AAC1B,gBAAgB,0DAAa;AAC7B;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA,iEAAe,eAAe;;;;;;;;;;;;;;AC/G9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;UC/EA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;ACN0C;AACE;AACI;AACD;AACH;AACmB;AACrB;;;AAG1C;;AAEA;AACA;;AAEA;AACA,IAAI,+DAAa;;AAEjB;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,iBAAiB,+DAAW;AAC5B,mBAAmB,6CAA6C;AAChE,YAAY,0DAAO;AACnB,KAAK;AACL,IAAI,6DAAW;AACf,IAAI,8DAAS;AACb,IAAI,6DAAa;AACjB,IAAI,8DAAS;;AAEb,IAAI,6DAAQ;AACZ,CAAC","sources":["webpack://booksshop/./js/modules/addToBag.js","webpack://booksshop/./js/modules/book-tabs.js","webpack://booksshop/./js/modules/closeModal.js","webpack://booksshop/./js/modules/dragDrop.js","webpack://booksshop/./js/modules/finishedOrder.js","webpack://booksshop/./js/modules/loading.js","webpack://booksshop/./js/modules/localStorage.js","webpack://booksshop/./js/modules/modalHelp.js","webpack://booksshop/./js/modules/moveMouse.js","webpack://booksshop/./js/modules/openModal.js","webpack://booksshop/./js/modules/openPopUp.js","webpack://booksshop/./js/modules/orderForm.js","webpack://booksshop/./js/services/services.js","webpack://booksshop/webpack/bootstrap","webpack://booksshop/webpack/runtime/define property getters","webpack://booksshop/webpack/runtime/hasOwnProperty shorthand","webpack://booksshop/webpack/runtime/make namespace object","webpack://booksshop/./js/script.js"],"sourcesContent":["import pressCloseModal from \"./closeModal\";\nimport dataToLocalStorage from \"./localStorage\";\nimport { isItInLocal } from \"./localStorage\";\nimport {getResource} from '../services/services';\nimport showModal from \"./openModal\";\nimport createOrderForm from \"./orderForm\";\nimport { createLoading, hideLoading } from \"./loading\";\n\n// return array of all prices in bag \nfunction findAllPrices() {\n    let pricesSelectors = document.querySelectorAll('.bag-price');\n    let pricesArr = [];\n    pricesSelectors.forEach((item) => {\n        pricesArr.push(item.textContent);\n    });\n\n    return pricesArr;\n}\n\n//Count total price\nfunction countTotal(delThisPrice) {\n\n    let priceArr = findAllPrices();\n    const total = document.querySelector('.bag__total');\n\n    let counter = true;\n    priceArr = priceArr.map((num) => {\n        \n        num = Number.parseFloat(num).toFixed(2);\n        if (delThisPrice && num == delThisPrice && counter === 'true') {\n            counter = false;\n            return 0\n        } else {\n            return num            \n        }\n    });\n    let totalPrice = Number(priceArr.reduce(\n        (previousValue, currentValue) => +previousValue + +currentValue, 0));\n    totalPrice = totalPrice.toFixed(2);\n\n    total.innerHTML = `Total: ${'' + totalPrice}$`;\n    createOrderForm(totalPrice);\n    return totalPrice;\n}\n\n//click TRASH icon \nfunction delFromBag(items, parentSelector) {\n    items.forEach(i => {\n        i.addEventListener('click', () => {\n\n            const parent = i.closest(parentSelector);\n            let delThisPrice = localStorage.getItem(parent.querySelector('.book__name').textContent);\n            localStorage.removeItem(parent.querySelector('.book__name').textContent);\n            parent.remove();\n\n            \n            delThisPrice = Number.parseFloat(delThisPrice).toFixed(2);\n            \n            countTotal(delThisPrice);\n        })\n    })  \n}\nfunction addToBag(parent) {\n    \n    let bookName = parent.querySelector('.book__name').textContent;\n    let price = parent.querySelector('.book__price').textContent;\n\n    dataToLocalStorage(bookName, price);\n}\n//click ADD-TO-BAG button\nfunction clickAddToBag(bag, shoppingBag) {\n\n    const addToBagBtns = document.querySelectorAll('.add-to-bag');\n    addToBagBtns.forEach(btn => {\n        btn.addEventListener('click', (e) => {\n            e.preventDefault();\n            let parent = e.target.closest('.book__info'); \n\n            addToBag(parent);\n            openBag(bag);\n        })\n    })\n    shoppingBag.addEventListener('click', () => {\n        openBag(bag);\n    })\n}\n\n//form ur bag\nfunction formBag() {  \n    const bagWindow = document.querySelector('.bag__window');\n\n    createLoading(bagWindow);\n    const data = getResource();\n    data.forEach((item) => {\n        if (isItInLocal(item.bookName)) {\n            \n            const elem = document.createElement('div');\n            elem.classList.add('bag__item');\n            elem.innerHTML = `\n                    <div>\n                        <div class='book__name bag-name'>${item.bookName}</div>\n                        <div>${item.author}</div>\n                    </div>\n                    <div class='bag__info'>\n                        <div class=\"book__price bag-price\">${item.price}$</div>\n                        <div class='bag__delete'>Delete</div>\n                    </div>\n            `;\n            \n\n            bagWindow.append(elem);\n            pressCloseModal('.bag');\n        }\n    })\n    countTotal(0);\n    hideLoading(bagWindow);\n    delFromBag(bagWindow.querySelectorAll('.bag__delete'), '.bag__item');\n    \n}\n\n//form modal window, 'close' btn, total\nfunction openBag(bag) {\n    showModal(bag);\n\n        bag.innerHTML = `\n            <div class='bag__window'>\n                <div class='bag__menu'>\n                    <div class='close'>&#10006;</div>\n                    <div class='bag__total'>Total: </div>\n                    <button class='bag__order'>Confirm </button>\n                </div>\n            </div>\n        `;\n        formBag();\n}\nfunction addOneBook(itemId) {\n\n    let parent = document.getElementById(itemId);\n    let bagWindow = document.querySelector(\".bag__window\");\n\n    let bookName = parent.querySelector('.book__name').textContent;\n    let price = parent.querySelector('.book__price').textContent;\n    let author = parent.querySelector(\".book__author\").textContent;\n\n    if (!isItInLocal(bookName)) {\n\n        const elem = document.createElement('div');\n        elem.classList.add('bag__item');\n        elem.innerHTML = `\n                <div>\n                    <div class='book__name bag-name'>${bookName}</div>\n                    <div>${author}</div>\n                </div>\n                <div class='bag__info'>\n                    <div class=\"book__price bag-price\">${price}</div>\n                    <div class='bag__delete'>Delete</div>\n                </div>\n        `;\n        bagWindow.append(elem);\n    }\n    else {\n        const elem = document.createElement('div');\n        elem.classList.add('bag__item');\n        elem.innerHTML = `\n            <div class='book__name bag-name warning'>This book is already in your cart</div>\n        `;\n        bagWindow.append(elem);\n\n        setTimeout(() => {\n            elem.remove();\n        }, 1000)\n    }\n}\n\nexport {countTotal, openBag, addToBag, addOneBook};\nexport default clickAddToBag;","class BookTab {\n    constructor(src, alt, author, bookName, price, descr, id, parent) {\n        this.src = src;\n        this.alt = alt;\n        this.author = author;\n        this.bookName = bookName;\n        this.price = price;\n        this.parent = document.querySelector(parent);\n        this.descr = descr;\n        this.id = id;\n    }\n    render() {\n        const element = document.createElement('li');\n        element.classList.add('book-tab');\n        element.setAttribute(\"id\", this.id);\n        element.setAttribute(\"draggable\", \"true\");\n        element.innerHTML = `\n                <img src='${this.src}' alt=${this.alt} class=\"book__img\">\n                <div class='book__info'>\n                    <div class=\"book__author\">${this.author}</div>\n                    <div class=\"book__name\">${this.bookName}</div>\n                    <div class=\"book__price\">${this.price}$</div>\n                    <a href=\"#\" class=\"show-more\">Show more</a>\n                    <button class=\"add-to-bag\">Add to bag</button>\n                    <div class='book__descr hide'>\n                        ${this.descr}\n                    </div>\n                </div>\n            `;\n        this.parent.append(element);\n\n    }\n}\n\nexport default BookTab;","function closeModal(modal) {\n\n    modal.classList.add('hide');\n    modal.classList.remove('show');\n    document.body.style = \"\";\n\n    const shoppingBag = document.querySelector('.shopping-bag__icon');\n    if (shoppingBag.classList.contains('hide')){\n        shoppingBag.classList.add('show');\n        shoppingBag.classList.remove('hide');\n    }\n}\n\nfunction pressCloseModal(modalSelector) {\n    const modal = document.querySelector(modalSelector);\n\n    document.addEventListener('keydown', (e) => {\n        if (e.code === 'Escape' && modal.classList.contains('show')) {\n            if (modalSelector === \".popUp-back\" || modalSelector === \".order-bg\") {\n                closeWithReload(modal);\n            } else {\n                closeWithoutReload(modal, modalSelector);\n            }\n        }\n    })\n\n    modal.addEventListener('click', (e) => {\n        if (modal.classList.contains('show')) {\n\n            if (e.target.classList.contains('close') &&  modalSelector === \".order-bg\") {\n                closeWithReload(modal);\n            }\n            else {\n                if ((e.target.classList.contains('close') || e.target == modal) && modalSelector !== \".order-bg\") {\n                    if (modalSelector === \".popUp-back\") {\n                        closeWithReload(modal);\n                    } else {\n                        closeWithoutReload(modal, modalSelector);\n                    }\n                }\n            }\n        }\n    })\n}\nconst closeWithoutReload = (modal, modalSelector) => {\n    closeModal(modal);\n    if (modalSelector === '.order-bg') {\n        const inputs = document.querySelectorAll(\"input\");\n        inputs.forEach(i => {\n            if (i.type === 'checkbox' || i.type === 'radio') {\n                i.checked = false;\n            }\n        }) \n    }\n}\nconst closeWithReload = (modal) => {\n    closeModal(modal);\n    modal.remove();\n    location.reload();\n}\n\nexport {closeModal};\nexport default pressCloseModal;","import { openBag, addToBag, addOneBook } from \"./addToBag\";\r\n\r\nfunction dragDrop() {\r\n    const bookItems = document.querySelectorAll(\".book-tab\");\r\n\r\n    bookItems.forEach(item => {\r\n        item.ondragstart = drag;\r\n    })\r\n\r\n    const bagIcon = document.querySelector(\".shopping-bag\");\r\n    const bag = document.querySelector(\".bag\");\r\n    bag\r\n\r\n    bagIcon.ondragover = allowOpenBag;\r\n    bag.ondragover = allowDrop;\r\n    bag.ondrop = drop;\r\n\r\n    function allowOpenBag(e) {\r\n        e.preventDefault();\r\n        openBag(bag);\r\n    }\r\n    function allowDrop(e) {\r\n        e.preventDefault();\r\n    }\r\n\r\n    function drag(e) {\r\n        e.dataTransfer.setData(\"id\", e.target.id);\r\n    }\r\n\r\n    function drop(e) {\r\n        let itemId = e.dataTransfer.getData(\"id\");\r\n\r\n        let parent = document.getElementById(itemId);\r\n        addOneBook(itemId);\r\n        addToBag(parent);\r\n    }\r\n}\r\n\r\nexport default dragDrop;\r\n","import pressCloseModal from \"./closeModal\";\r\nimport showModal from \"./openModal\";\r\n\r\nconst finishedOrder = (data) => {\r\n    let finishedForm = document.createElement(\"div\");\r\n    finishedForm.classList.add(\"popUp-back\");\r\n    showModal(finishedForm);\r\n    finishedForm.innerHTML = `\r\n        <div class='popUp__window_small'>\r\n            <div class='close'>&#10006;</div>\r\n            <div class='popUp__name'>The order created. The delivery address is ${data.street} street house ${data.house} flat ${data.flat}. Customer ${data.name} ${data.surname}. <br>${data.deliveryData}</div>\r\n        </div>\r\n    `;\r\n    const main = document.querySelector('main');\r\n\r\n    main.append(finishedForm);\r\n\r\n    pressCloseModal(\".popUp-back\");\r\n}\r\n\r\nexport default finishedOrder;","function createLoading (parent) {\r\n    let loading = document.createElement(\"h2\");\r\n    loading.classList.add(\"loading\");\r\n    loading.textContent = \"Loading...\"\r\n\r\n    parent.append(loading);\r\n}\r\n\r\nfunction hideLoading (parent) {\r\n    parent.querySelector('.loading').remove();\r\n}\r\n\r\nexport {createLoading, hideLoading};","//add book to bag\nfunction dataToLocalStorage(arg, val) {\n    if (localStorage.getItem(arg)) {\n        return localStorage.getItem(arg);\n    } else {\n        localStorage.setItem(arg, val);\n        return val;\n    }\n}\n\n//checks book is already in bag\nfunction isItInLocal(book) {\n    if (localStorage.getItem(book)) {\n        return true\n    } else {\n        return false\n    }\n}\nexport default dataToLocalStorage;\nexport {isItInLocal};\n","import {closeModal} from './closeModal';\n\nfunction delHelper(helper) {\n    helper.remove();\n}\n\nfunction modalHelper(parentSelector, descr) {\n    const helper = document.createElement('div');\n    helper.classList.add('helper');\n    helper.innerHTML = `\n        <div class='helper__descr'>${descr}</div>\n    `;\n    parentSelector.append(helper);\n\n    setTimeout(() => {\n        delHelper(helper);\n    }, 3000)\n}\n\nexport default modalHelper;","function moveMouse() {\n    const imgArr = document.querySelectorAll('book__img');\n\n    imgArr.forEach(item => {\n        item.onmousedown = function(e) { // 1. отследить нажатие\n            // подготовить к перемещению\n            // 2. разместить на том же месте, но в абсолютных координатах\n            item.style.position = 'absolute';\n            moveAt(e);\n            // переместим в body, чтобы мяч был точно не внутри position:relative\n            document.body.appendChild(item);\n        \n            item.style.zIndex = 1000; // показывать мяч над другими элементами\n        \n            // передвинуть мяч под координаты курсора\n            // и сдвинуть на половину ширины/высоты для центрирования\n            function moveAt(e) {\n                item.style.left = e.pageX - item.offsetWidth / 2 + 'px';\n                item.style.top = e.pageY - item.offsetHeight / 2 + 'px';\n            }\n        \n            // 3, перемещать по экрану\n            document.onmousemove = function(e) {\n                moveAt(e);\n            }\n        \n            // 4. отследить окончание переноса\n            item.onmouseup = function() {\n                document.onmousemove = null;\n                item.onmouseup = null;\n        \n                \n            }\n        }\n    })\n}\n\n\n\nexport default moveMouse;","function showModal(modal) {\n    modal.classList.remove('hide');\n    modal.classList.add('show');\n    document.body.style = \"overflow: hidden\";\n\n    const shoppingBag = document.querySelector('.shopping-bag__icon');\n    if (shoppingBag.classList.contains('show')) {\n        shoppingBag.classList.add('hide');\n        shoppingBag.classList.remove('show');\n    }\n    \n}\n\nexport default showModal;","import pressCloseModal from \"./closeModal\";\nimport showModal from \"./openModal\";\n\nfunction openPopUp(popUp) {\n\n    const showMoreButtons = document.querySelectorAll('.show-more');\n\n    showMoreButtons.forEach(btn => {\n        btn.addEventListener('click', (e) => {\n            e.preventDefault();\n\n            showModal(popUp);\n\n            const info = e.target.closest('.book__info');\n            const boxAuthor = info.querySelector('.book__author');\n            const boxBookName = info.querySelector('.book__name');\n            const boxDescr = info.querySelector('.book__descr');\n\n            const author = boxAuthor.textContent;\n            const bookName = boxBookName.textContent;\n            const descr = boxDescr.textContent;\n\n            \n            popUp.innerHTML = `\n                <div class='popUp__window'>\n                    <div class='close'>&#10006;</div>\n                    <div class='popUp__name'>${bookName}</div>\n                    <div class='popUp__author'>${author}</div>\n                    <div class='popUp__descr'>${descr}</div>\n                </div>\n            `;\n            \n            pressCloseModal('.popUp');\n        })\n    })\n}\n\nexport default openPopUp;","import showModal from \"./openModal\";\nimport {closeModal} from \"./closeModal\"; \nimport pressCloseModal from \"./closeModal\";\nimport modalHelper from \"./modalHelp\";\nimport finishedOrder from './finishedOrder';\n\nfunction createOrderForm () {\n\n    const makeOrder = document.querySelector('.bag__order');\n    let todayData = new Date();\n    let day = todayData.getDate();\n    let mouth = todayData.getMonth() + 1;\n\n\n    makeOrder.addEventListener('click', () => {\n\n        const orderBG = document.querySelector('.order-bg');\n        const inputs = orderBG.querySelectorAll('input');\n        const orderBtn = orderBG.querySelector('.order-btn');\n        const orderForm = orderBG.querySelector('.order-form');\n        const inputData = document.querySelector('.order-data');\n        const cash = document.querySelector(\"#radio1\");\n        const card = document.querySelector(\"#radio2\");\n\n        let gifts = [];\n        let payment = \"cash\";\n\n        cash.checked = true;\n        orderBtn.setAttribute(\"disabled\", \"true\");\n\n\n        const allChecks = [];\n        inputs.forEach(item => {\n            if (item.type === \"checkbox\") {\n                allChecks.push(item);\n                item.checked = false;\n            }\n        })\n\n        allChecks.forEach(i => {\n            i.addEventListener('click', () => {      \n                if (i.checked === true) {\n                    if (gifts.length < 2) {\n                        i.checked = true;\n                        gifts.push(i.name);\n                    } else {\n                        i.checked = false;\n                        modalHelper(orderForm, '2 gifts already selected');\n                    }\n                }\n                if (i.checked === false) {\n                    gifts = gifts.filter(h => h !== i.name)\n                }\n            })\n        })\n\n        cash.addEventListener('click', () => {\n            cash.checked = true;\n            card.checked = false;\n            payment = \"cash\";\n        }) \n        card.addEventListener('click', () => {\n            cash.checked = false;\n            card.checked = true;\n            payment = \"card\";\n        })\n        inputs.forEach(item => {\n            item.addEventListener(\"change\", () => {\n                if (orderForm.checkValidity() && orderBtn.getAttribute(\"disabled\")) {\n                    orderBtn.removeAttribute(\"disabled\");\n                } \n                if (!orderForm.checkValidity() && !orderBtn.getAttribute(\"disabled\")) {\n                    orderBtn.setAttribute(\"disabled\", \"true\");\n                } \n            })\n        })\n \n\n        let bag = document.querySelector('.bag');\n        closeModal(bag);\n        showModal(orderBG); \n        pressCloseModal('.order-bg');\n\n        inputData.addEventListener('click', () => {\n            modalHelper(orderForm, 'Дата в формате XX/XX/XXXX');\n        })\n\n        orderBtn.addEventListener('click', (e) => {\n\n            e.preventDefault();\n\n            const data = new FormData(orderForm);\n            data.gifts = gifts;\n            data.payment = payment;\n\n            data.name = document.querySelector('.order-name').value;\n            data.surname = document.querySelector('.order-surname').value;\n            data.deliveryData = document.querySelector('.order-data').value;\n            data.street = document.querySelector('.order-street').value;\n            data.house = document.querySelector('.order-house').value;\n            data.flat = document.querySelector('.order-flat').value;\n\n            if (!orderBtn.getAttribute(\"disabled\")) {\n                closeModal(orderBG);\n                finishedOrder(data);\n                orderBtn.setAttribute(\"disabled\", \"true\");\n                console.log(\"Your order - \",data)\n            }\n        })\n    })\n}\nexport default createOrderForm;","const books = {\n    \"booksDB\": [\n      {\n        \"src\": \"https://cdn.waterstones.com/bookjackets/large/9780/2415/9780241512425.jpg\",\n        \"alt\": \"Book\",\n        \"author\": \"Richard Osman\",\n        \"bookName\": \"The Bullet That Missed\",\n        \"price\": \"15.99\",\n        \"descr\": \"It is an ordinary Thursday, and things should finally be returning to normal. Except trouble is never far away where the Thursday Murder Club are concerned. A local news legend is on the hunt for a sensational headline, and soon the gang are hot on the trail of two murders, ten years apart. To make matters worse, a new nemesis pays. Elizabeth a visit, presenting her with a deadly mission: kill or be killed…While Elizabeth grapples with her conscience (and a gun), the gang and their unlikely new friends (including TV stars, money launderers and ex-KGB colonels) unravel a new mystery.But can they catch the culprit and save Elizabeth before the murderer strikes again?\",\n        \"id\": 1\n      },\n      {\n        \"src\": \"https://cdn.waterstones.com/bookjackets/large/9781/3985/9781398518162.jpg\",\n        \"alt\": \"Book\",\n        \"author\": \"Colleen Hoover\",\n        \"bookName\": \"It Starts With Us\",\n        \"price\": \"14.99\",\n        \"descr\": \"it started with Atlas. Colleen Hoover tells fan favourite Atlas' side of the story and shares what comes next in this long-anticipated sequel to the #1 Sunday Times bestseller.Lily and her ex-husband, Ryle, have just settled into a civil co-parenting rhythm when she suddenly bumps into her first love, Atlas, again. After nearly two years separated, she is elated that for once, time is on their side, and she immediately says yes when Atlas asks her on a date.But her excitement is quickly hampered by the knowledge that, though they are no longer married, Ryle is still very much a part of her life - and Atlas Corrigan is the one man he will hate being in his ex-wife and daughter’s life.Switching between the perspectives of Lily and Atlas, It Starts with Us picks up right where the epilogue for the bestselling phenomenon It Ends with Us left off. Revealing more about Atlas’s past and following Lily as she embraces a second chance at true love while navigating a jealous ex-husband, it proves that 'no one delivers an emotional read like Colleen Hoover' (Anna Todd, bestselling author).\",\n        \"id\": 2\n      },\n      {\n        \"src\": \"https://cdn.waterstones.com/bookjackets/large/9781/8388/9781838854799.jpg\",\n        \"alt\": \"Book\",\n        \"author\": \"Alan Rickman\",\n        \"bookName\": \"Madly, Deeply: The Alan Rickman Diaries\",\n        \"price\": 25,\n        \"descr\": \"Alan Rickman remains one of the most beloved actors of all time across almost every genre, from his breakout role as Die Hard's villainous Hans Gruber to his heart-wrenching run as Professor Severus Snape, and beyond. His air of dignity, his sonorous voice and the knowing wit he brought to each role continue to captivate new audiences today.But Rickman's artistry wasn't confined to just his performances. Fans of memoirs at large will delight in the intimate experience of reading Rickman detailing the extraordinary and the ordinary in a way that is 'anecdotal, indiscreet, witty, gossipy and utterly candid'. He grants us access to his thoughts, not only on plays, films and the craft of acting, but also politics, friendships and life.The Rickman Diaries was written with the intention to be shared, and reading it is like listening to Rickman chatting to a close friend.\",\n        \"id\": 3\n      },\n      {\n        \"src\": \"https://cdn.waterstones.com/override/v2/large/9781/4449/9781444968392.jpg\",\n        \"alt\": \"Book\",\n        \"author\": \"Alice Oseman\",\n        \"bookName\": \"The Heartstopper Yearbook\",\n        \"price\": \"16\",\n        \"descr\": \"Soon to be a live-action Netflix series! Boy meets boy. Boys become friends. Boys fall in love.This joyful trip into the LGBTQ+ world of Heartstopper is the perfect gift for anyone who loves the graphic novels or Netflix TV series - from Alice Oseman, bestselling author and winner of the YA Book Prize.Now in full colour for the first time!The full-colour Heartstopper Yearbook is packed full of exclusive content from the Heartstopper universe - including never-before-seen illustrations, an exclusive mini-comic, a look back at Alice's Heartstopper artwork over the years, character profiles, trivia, and insights into her creative process - all narrated by a cartoon version of Alice herself.By the winner of the YA Book Prize, Heartstopper is about love, friendship, loyalty and mental illness. It encompasses all the small stories of Nick and Charlie's lives that together make up something larger, which speaks to all of us\",\n        \"id\": 4\n      },\n      {\n        \"src\": \"https://cdn.waterstones.com/override/v3/large/9781/5291/9781529149418.jpg\",\n        \"alt\": \"Book\",\n        \"author\": \"Tom Felton\",\n        \"bookName\": \"Beyond the Wand\",\n        \"price\": \"16.99\",\n        \"descr\": \"They called for a break, and Gambon magicked up a cigarette from out of his beard. He and I were often to be found outside the stage door, having 'a breath of fresh air', as we referred to it. There would be painters and plasterers and chippies and sparks, and among them all would be me and Dumbledore having a crafty cigarette.From Borrower to wizard, Tom Felton's adolescence was anything but ordinary. His early rise to fame saw him catapulted into the limelight aged just twelve when he landed the iconic role of Draco Malfoy in the Harry Potter films.Speaking with candour and his own trademark humour, Tom shares his experience of growing up on screen and as part of the wizarding world for the very first time. He tells all about his big break, what filming was really like and the lasting friendships he made during ten years as part of the franchise, as well as the highs and lows of fame and the reality of navigating adult life after filming finished.\",\n        \"id\": 5\n      },\n      {\n        \"src\": \"https://cdn.waterstones.com/bookjackets/large/9781/9087/9781908745903.jpg\",\n        \"alt\": \"Book\",\n        \"author\": \"Shehan Karunatilaka\",\n        \"bookName\": \"The Seven Moons of Maali Almeida\",\n        \"price\": \"16.99\",\n        \"descr\": \"A searing satire set amid the murderous mayhem of Sri Lanka beset by civil war Colombo, 1990.Maali Almeida, war photographer, gambler and closet gay, has woken up dead in what seems like a celestial visa office. His dismembered body is sinking in the serene Beira lake and he has no idea who killed him.At a time where scores are settled by death squads, suicide bombers and hired goons, the list of suspects is depressingly long, as the ghouls and ghosts with grudges who cluster round can attest. But even in the afterlife, time is running out for Maali. He has seven moons to try and contact the man and woman he loves most and lead them to a hidden cache of photos that will rock Sri Lanka.Ten years after his prizewinning novel Chinaman established him as one of Sri Lanka's foremost authors, Karunatilaka is back with a rip-roaring epic, full of mordant wit and disturbing truths.\",\n        \"id\": 6\n      },\n      {\n        \"src\": \"https://cdn.waterstones.com/bookjackets/large/9781/9821/9781982185824.jpg\",\n        \"alt\": \"Book\",\n        \"author\": \"Jennette McCurdy\",\n        \"bookName\": \"I'm Glad My Mom Died\",\n        \"price\": \"17.99\",\n        \"descr\": \"A heartbreaking and hilarious memoir by iCarly and Sam & Cat star Jennette McCurdy about her struggles as a former child actor-including eating disorders, addiction, and a complicated relationship with her overbearing mother-and how she retook control of her life.Jennette McCurdy was six years old when she had her first acting audition. Her mother's dream was for her only daughter to become a star, and Jennette would do anything to make her mother happy. So she went along with what Mom called Calorie restriction, eating little and weighing herself five times a day. She endured extensive at-home makeovers while Mom chided. Your eyelashes are invisible, okay? You think Dakota Fanning doesn't tint hers?' She was even showered by Mom until age sixteen while sharing her diaries, email, and all her income.\",\n        \"id\": 7\n      },\n      {\n        \"src\": \"https://cdn.waterstones.com/bookjackets/large/9780/2415/9780241547472.jpg\",\n        \"alt\": \"Book\",\n        \"author\": \"Greta Thunberg\",\n        \"bookName\": \"The Climate Book\",\n        \"price\": \"21.99\",\n        \"descr\": \"Greta Thunberg's speeches shook the world. With The Climate Book, she has created an essential tool for everyone who wants to help save it.It seems like an impossible task: secure a safe future for life on Earth, acting at a scale and speed that the world has never seen, in the face of vast and powerful forces--not just oil tycoons and governments, but the changing climate system itself. The odds are against us, and we are running out of time. But it doesn't have to be this way.Around the world, geophysicists and mathematicians, oceanographers and meteorologists, engineers, economists, psychologists and philosophers have been using their expertise to develop a deep understanding of the crises we face. Greta Thunberg has created The Climate Book in partnership with over one hundred of these experts in order to equip us all with this knowledge. Alongside them, Greta shares her own stories of learning, demonstrating, and uncovering greenwashing around the world, revealing the extent to which we have been kept in the dark. This is one of our biggest problems, she shows, but also our greatest source of hope. Once we are given the full picture, we will be able to act--and if a schoolchild's strike could ignite a global protest, what could we do collectively if we tried?\",\n        \"id\": 8\n      }\n    ]\n};\n\nconst getResource = () => {\n    return books.booksDB;\n};\n\nexport {getResource};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import BookTab from \"./modules/book-tabs\";\nimport openPopUp from \"./modules/openPopUp\";\nimport {getResource} from './services/services';\nimport clickAddToBag from './modules/addToBag';\nimport moveMouse from './modules/moveMouse';\nimport { createLoading, hideLoading } from \"./modules/loading\";\nimport dragDrop from \"./modules/dragDrop\";\n\n\nwindow.addEventListener('DOMContentLoaded', function() {\n\n    const popUp = document.createElement('div');\n    popUp.classList.add('popUp', 'popUp-bg','hide');\n\n    const main = document.querySelector('main');\n    createLoading(main);\n\n    const header = document.createElement('header');\n\n    const headerOne = document.createElement('h1');\n    headerOne.classList.add('header__title');\n    headerOne.textContent= 'Book shop';\n\n    const ul = document.createElement('ul');\n    ul.classList.add('book-list-tabs');\n\n    const bag = document.createElement('div');\n    bag.classList.add('bag', 'hide');\n\n    const shoppingBag = document.createElement('div');\n    shoppingBag.classList.add('shopping-bag', 'show');\n    shoppingBag.innerHTML = `\n        <img src='icons/shopping-bag.svg' class='shopping-bag__icon show'></img>\n    `;\n\n    document.body.prepend(header);\n    document.body.prepend(popUp);\n    header.append(headerOne);\n    main.append(ul);\n    main.append(bag);\n    main.append(shoppingBag);\n\n    const inputs = document.querySelectorAll(\"input\");\n    inputs.forEach(i => {\n        i.value = \"\";\n        if (i.type === 'checkbox') {\n            i.checked = false;\n        }\n    }) \n\n    const data = getResource();\n    data.forEach(({src, alt, author, bookName, price, descr, id}) => {\n        new BookTab(src, alt, author, bookName, price, descr, id, 'ul').render();\n    });\n    hideLoading(main);\n    openPopUp(popUp);\n    clickAddToBag(bag, shoppingBag);\n    moveMouse();\n\n    dragDrop();\n});\n"],"names":[],"sourceRoot":""}