{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAA2C;AACK;AACH;AACI;AACb;AACM;AACa;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,gCAAgC,gBAAgB;AAChD,IAAI,sDAAe;AACnB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,IAAI,yDAAkB;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA,IAAI,uDAAa;AACjB,IAAI,+DAAW;AACf;AACA;AACA,gBAAgB,0DAAW;AAC3B;AACA;AACA;AACA;AACA;AACA,+DAA+D,cAAc;AAC7E,mCAAmC,YAAY;AAC/C;AACA;AACA,iEAAiE,WAAW;AAC5E;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,uDAAe;AAC/B;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA,QAAQ,qDAAW;AACnB;AACA,KAAK;AACL;;AAEA;AACA;AACA,IAAI,sDAAS;;AAEb;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS,0DAAW;;AAEpB;AACA;AACA;AACA;AACA,uDAAuD,SAAS;AAChE,2BAA2B,OAAO;AAClC;AACA;AACA,yDAAyD,MAAM;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEmD;AACnD,iEAAe,aAAa;;;;;;;;;;;;;;ACxL5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,SAAS,QAAQ,UAAU;AACvD;AACA,gDAAgD,YAAY;AAC5D,8CAA8C,cAAc;AAC5D,+CAA+C,WAAW;AAC1D;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAe,OAAO;;;;;;;;;;;;;;;AClCtB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEoB;AACpB,iEAAe,eAAe;;;;;;;;;;;;;;;AC9DyC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,kDAAO;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,qDAAU;AAClB,QAAQ,qDAAU;AAClB,QAAQ,mDAAQ;AAChB;AACA;AACA;AACA,iEAAe,QAAQ,EAAC;;;;;;;;;;;;;;;;;ACvCmB;AACP;AACpC;AACA;AACA;AACA;AACA,IAAI,sDAAS;AACb;AACA;AACA,uCAAuC;AACvC,kFAAkF,aAAa,eAAe,YAAY,OAAO,UAAU,aAAa,WAAW,EAAE,aAAa,QAAQ,kBAAkB;AAC5M;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAe;AACnB;AACA;AACA,iEAAe,aAAa;;;;;;;;;;;;;;;ACpB5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,iEAAe,kBAAkB,EAAC;AACb;;;;;;;;;;;;;;;;ACnBmB;;AAExC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAqC,MAAM;AAC3C;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA,iEAAe,WAAW;;;;;;;;;;;;;;ACnB1B;AACA;;AAEA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;AAIA,iEAAe,SAAS;;;;;;;;;;;;;;ACvCxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,SAAS;;;;;;;;;;;;;;;;ACbmB;AACP;;AAEpC;;AAEA;;AAEA;AACA;AACA;;AAEA,YAAY,sDAAS;;AAErB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C;AAC/C,+CAA+C,SAAS;AACxD,iDAAiD,OAAO;AACxD,gDAAgD,MAAM;AACtD;AACA;AACA;AACA,YAAY,uDAAe;AAC3B,SAAS;AACT,KAAK;AACL;;AAEA,iEAAe,SAAS;;;;;;;;;;;;;;;;;;ACrCY;AACI;AACG;AACL;AACM;;AAE5C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,wBAAwB,sDAAW;AACnC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;;AAEA;AACA,QAAQ,uDAAU;AAClB,QAAQ,sDAAS;AACjB,QAAQ,uDAAe;;AAEvB;AACA;AACA,YAAY;;AAEZ;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,uDAAU;AAC1B,gBAAgB,0DAAa;AAC7B;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA,iEAAe,eAAe;;;;;;;;;;;;;;ACzH9B;AACA;AACA;AACA,GAAG;AACH;AACA,yCAAyC,IAAI,WAAW,WAAW;AACnE,IAAI;AACJ;AACA;AACA;AACA;;;;;;;UCVA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;ACN0C;AACE;AACI;AACD;AACH;AACmB;AACrB;;;AAG1C;;AAEA;AACA;;AAEA;AACA,IAAI,+DAAa;;AAEjB;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,IAAI,gEAAW;AACf;AACA;AACA,+BAA+B,6CAA6C;AAC5E,gBAAgB,0DAAO;AACvB,SAAS;AACT,KAAK;AACL;AACA,QAAQ,6DAAW;AACnB,QAAQ,8DAAS;AACjB,QAAQ,6DAAa;AACrB,QAAQ,8DAAS;;AAEjB,QAAQ,6DAAQ;AAChB,KAAK;AACL;AACA,CAAC","sources":["webpack://booksshop/./js/modules/addToBag.js","webpack://booksshop/./js/modules/book-tabs.js","webpack://booksshop/./js/modules/closeModal.js","webpack://booksshop/./js/modules/dragDrop.js","webpack://booksshop/./js/modules/finishedOrder.js","webpack://booksshop/./js/modules/loading.js","webpack://booksshop/./js/modules/localStorage.js","webpack://booksshop/./js/modules/modalHelp.js","webpack://booksshop/./js/modules/moveMouse.js","webpack://booksshop/./js/modules/openModal.js","webpack://booksshop/./js/modules/openPopUp.js","webpack://booksshop/./js/modules/orderForm.js","webpack://booksshop/./js/services/services.js","webpack://booksshop/webpack/bootstrap","webpack://booksshop/webpack/runtime/define property getters","webpack://booksshop/webpack/runtime/hasOwnProperty shorthand","webpack://booksshop/webpack/runtime/make namespace object","webpack://booksshop/./js/script.js"],"sourcesContent":["import pressCloseModal from \"./closeModal\";\nimport dataToLocalStorage from \"./localStorage\";\nimport { isItInLocal } from \"./localStorage\";\nimport {getResource} from '../services/services';\nimport showModal from \"./openModal\";\nimport createOrderForm from \"./orderForm\";\nimport { createLoading, hideLoading } from \"./loading\";\n\n// return array of all prices in bag \nfunction findAllPrices() {\n    let pricesSelectors = document.querySelectorAll('.bag-price');\n    let pricesArr = [];\n    pricesSelectors.forEach((item) => {\n        pricesArr.push(item.textContent);\n    });\n\n    return pricesArr;\n}\n\n//Count total price\nfunction countTotal(delThisPrice) {\n\n    let priceArr = findAllPrices();\n    const total = document.querySelector('.bag__total');\n\n    let counter = true;\n    priceArr = priceArr.map((num) => {\n        \n        num = Number.parseFloat(num).toFixed(2);\n        if (delThisPrice && num == delThisPrice && counter === 'true') {\n            counter = false;\n            return 0\n        } else {\n            return num            \n        }\n    });\n    let totalPrice = Number(priceArr.reduce(\n        (previousValue, currentValue) => +previousValue + +currentValue, 0));\n    totalPrice = totalPrice.toFixed(2);\n\n    total.innerHTML = `Total: ${'' + totalPrice}$`;\n    createOrderForm(totalPrice);\n    return totalPrice;\n}\n\n//click TRASH icon \nfunction delFromBag(items, parentSelector) {\n    items.forEach(i => {\n        i.addEventListener('click', () => {\n\n            const parent = i.closest(parentSelector);\n            let delThisPrice = localStorage.getItem(parent.querySelector('.book__name').textContent);\n            localStorage.removeItem(parent.querySelector('.book__name').textContent);\n            parent.remove();\n\n            \n            delThisPrice = Number.parseFloat(delThisPrice).toFixed(2);\n            \n            countTotal(delThisPrice);\n        })\n    })  \n}\nfunction addToBag(parent) {\n    \n    let bookName = parent.querySelector('.book__name').textContent;\n    let price = parent.querySelector('.book__price').textContent;\n\n    dataToLocalStorage(bookName, price);\n}\n//click ADD-TO-BAG button\nfunction clickAddToBag(bag, shoppingBag) {\n\n    const addToBagBtns = document.querySelectorAll('.add-to-bag');\n    addToBagBtns.forEach(btn => {\n        btn.addEventListener('click', (e) => {\n            e.preventDefault();\n            let parent = e.target.closest('.book__info'); \n\n            addToBag(parent);\n            openBag(bag);\n        })\n    })\n    shoppingBag.addEventListener('click', () => {\n        openBag(bag);\n    })\n}\n\n//form ur bag\nfunction formBag() {  \n    const bagWindow = document.querySelector('.bag__window');\n\n    createLoading(bagWindow);\n    getResource()\n    .then(data => {\n        data.booksDB.forEach((item) => {\n            if (isItInLocal(item.bookName)) {\n                \n                const elem = document.createElement('div');\n                elem.classList.add('bag__item');\n                elem.innerHTML = `\n                        <div>\n                            <div class='book__name bag-name'>${item.bookName}</div>\n                            <div>${item.author}</div>\n                        </div>\n                        <div class='bag__info'>\n                            <div class=\"book__price bag-price\">${item.price}$</div>\n                            <div class='bag__delete'>Delete</div>\n                        </div>\n                `;\n                \n\n                bagWindow.append(elem);\n                pressCloseModal('.bag');\n            }\n        })\n    })\n    .then(() => {\n        countTotal(0);\n        hideLoading(bagWindow);\n        delFromBag(bagWindow.querySelectorAll('.bag__delete'), '.bag__item');\n    })\n}\n\n//form modal window, 'close' btn, total\nfunction openBag(bag) {\n    showModal(bag);\n\n        bag.innerHTML = `\n            <div class='bag__window'>\n                <div class='bag__menu'>\n                    <div class='close'>&#10006;</div>\n                    <div class='bag__total'>Total: </div>\n                    <button class='bag__order'>Confirm </button>\n                </div>\n            </div>\n        `;\n        formBag();\n}\nfunction addOneBook(itemId) {\n\n    let parent = document.getElementById(itemId);\n    let bagWindow = document.querySelector(\".bag__window\");\n\n    let bookName = parent.querySelector('.book__name').textContent;\n    let price = parent.querySelector('.book__price').textContent;\n    let author = parent.querySelector(\".book__author\").textContent;\n\n    if (!isItInLocal(bookName)) {\n\n        const elem = document.createElement('div');\n        elem.classList.add('bag__item');\n        elem.innerHTML = `\n                <div>\n                    <div class='book__name bag-name'>${bookName}</div>\n                    <div>${author}</div>\n                </div>\n                <div class='bag__info'>\n                    <div class=\"book__price bag-price\">${price}</div>\n                    <div class='bag__delete'>Delete</div>\n                </div>\n        `;\n        bagWindow.append(elem);\n        let del = elem.querySelector(\".bag__delete\");\n        del.addEventListener('click', () => {\n            localStorage.removeItem(bookName);\n            elem.remove();\n            countTotal(price);\n        })\n    }\n    else {\n        const elem = document.createElement('div');\n        elem.classList.add('bag__item');\n        elem.innerHTML = `\n            <div class='book__name bag-name warning'>This book is already in your cart</div>\n        `;\n        bagWindow.append(elem);\n\n        setTimeout(() => {\n            elem.remove();\n        }, 1000)\n    }\n}\n\nexport {countTotal, openBag, addToBag, addOneBook};\nexport default clickAddToBag;","class BookTab {\r\n    constructor(src, alt, author, bookName, price, descr, id, parent) {\r\n        this.src = src;\r\n        this.alt = alt;\r\n        this.author = author;\r\n        this.bookName = bookName;\r\n        this.price = price;\r\n        this.parent = document.querySelector(parent);\r\n        this.descr = descr;\r\n        this.id = id;\r\n    }\r\n    render() {\r\n        const element = document.createElement('li');\r\n        element.classList.add('book-tab');\r\n        element.setAttribute(\"id\", this.id);\r\n        element.setAttribute(\"draggable\", \"true\");\r\n        element.innerHTML = `\r\n                <img src='${this.src}' alt=${this.alt} class=\"book__img\" draggable=\"false\">\r\n                <div class='book__info'>\r\n                    <div class=\"book__author\">${this.author}</div>\r\n                    <div class=\"book__name\">${this.bookName}</div>\r\n                    <div class=\"book__price\">${this.price}$</div>\r\n                    <a href=\"#\" class=\"show-more\">Show more</a>\r\n                    <button class=\"add-to-bag\">Add to bag</button>\r\n                    <div class='book__descr hide'>\r\n                        ${this.descr}\r\n                    </div>\r\n                </div>\r\n            `;\r\n        this.parent.append(element);\r\n\r\n    }\r\n}\r\n\r\nexport default BookTab;","function closeModal(modal) {\n\n    modal.classList.add('hide');\n    modal.classList.remove('show');\n    document.body.style = \"\";\n\n    const shoppingBag = document.querySelector('.shopping-bag__icon');\n    if (shoppingBag.classList.contains('hide')){\n        shoppingBag.classList.add('show');\n        shoppingBag.classList.remove('hide');\n    }\n}\n\nfunction pressCloseModal(modalSelector) {\n    const modal = document.querySelector(modalSelector);\n\n    document.addEventListener('keydown', (e) => {\n        if (e.code === 'Escape' && modal.classList.contains('show')) {\n            if (modalSelector === \".popUp-back\" || modalSelector === \".order-bg\") {\n                closeWithReload(modal);\n            } else {\n                closeWithoutReload(modal, modalSelector);\n            }\n        }\n    })\n\n    modal.addEventListener('click', (e) => {\n        if (modal.classList.contains('show')) {\n\n            if (e.target.classList.contains('close') &&  modalSelector === \".order-bg\") {\n                closeWithReload(modal);\n            }\n            else {\n                if ((e.target.classList.contains('close') || e.target == modal) && modalSelector !== \".order-bg\") {\n                    if (modalSelector === \".popUp-back\") {\n                        closeWithReload(modal);\n                    } else {\n                        closeWithoutReload(modal, modalSelector);\n                    }\n                }\n            }\n        }\n    })\n}\nconst closeWithoutReload = (modal, modalSelector) => {\n    closeModal(modal);\n    if (modalSelector === '.order-bg') {\n        const inputs = document.querySelectorAll(\"input\");\n        inputs.forEach(i => {\n            if (i.type === 'checkbox' || i.type === 'radio') {\n                i.checked = false;\n            }\n        }) \n    }\n}\nconst closeWithReload = (modal) => {\n    closeModal(modal);\n    modal.remove();\n    location.reload();\n}\n\nexport {closeModal};\nexport default pressCloseModal;","import { openBag, addToBag, addOneBook, countTotal } from \"./addToBag\";\r\n\r\nfunction dragDrop() {\r\n    const bookItems = document.querySelectorAll(\".book-tab\");\r\n\r\n    bookItems.forEach(item => {\r\n        item.ondragstart = drag;\r\n    })\r\n\r\n    const bagIcon = document.querySelector(\".shopping-bag\");\r\n    const bag = document.querySelector(\".bag\");\r\n    bag\r\n\r\n    bagIcon.ondragover = allowOpenBag;\r\n    bag.ondragover = allowDrop;\r\n    bag.ondrop = drop;\r\n\r\n    function allowOpenBag(e) {\r\n        e.preventDefault();\r\n        openBag(bag);\r\n    }\r\n    function allowDrop(e) {\r\n        e.preventDefault();\r\n    }\r\n\r\n    function drag(e) {\r\n        e.dataTransfer.setData(\"id\", e.target.id);\r\n    }\r\n\r\n    function drop(e) {\r\n        let itemId = e.dataTransfer.getData(\"id\");\r\n\r\n        let parent = document.getElementById(itemId);\r\n        addOneBook(itemId);\r\n        countTotal(0);\r\n        addToBag(parent);\r\n    }\r\n}\r\n\r\nexport default dragDrop;\r\n","import pressCloseModal from \"./closeModal\";\r\nimport showModal from \"./openModal\";\r\n\r\nconst finishedOrder = (data) => {\r\n    let finishedForm = document.createElement(\"div\");\r\n    finishedForm.classList.add(\"popUp-back\");\r\n    showModal(finishedForm);\r\n    finishedForm.innerHTML = `\r\n        <div class='popUp__window_small'>\r\n            <div class='close'>&#10006;</div>\r\n            <div class='popUp__name'>The order created. The delivery address is ${data.street} street house ${data.house} flat ${data.flat}. Customer ${data.name} ${data.surname}. <br>${data.deliveryData}</div>\r\n        </div>\r\n    `;\r\n    const main = document.querySelector('main');\r\n\r\n    main.append(finishedForm);\r\n\r\n    pressCloseModal(\".popUp-back\");\r\n}\r\n\r\nexport default finishedOrder;","function createLoading (parent) {\r\n    let loading = document.createElement(\"h2\");\r\n    loading.classList.add(\"loading\");\r\n    loading.textContent = \"Loading...\"\r\n\r\n    parent.append(loading);\r\n}\r\n\r\nfunction hideLoading (parent) {\r\n    parent.querySelector('.loading').remove();\r\n}\r\n\r\nexport {createLoading, hideLoading};","//add book to bag\nfunction dataToLocalStorage(arg, val) {\n    if (localStorage.getItem(arg)) {\n        return localStorage.getItem(arg);\n    } else {\n        localStorage.setItem(arg, val);\n        return val;\n    }\n}\n\n//checks book is already in bag\nfunction isItInLocal(book) {\n    if (localStorage.getItem(book)) {\n        return true\n    } else {\n        return false\n    }\n}\nexport default dataToLocalStorage;\nexport {isItInLocal};\n","import {closeModal} from './closeModal';\n\nfunction delHelper(helper) {\n    helper.remove();\n}\n\nfunction modalHelper(parentSelector, descr) {\n    const helper = document.createElement('div');\n    helper.classList.add('helper');\n    helper.innerHTML = `\n        <div class='helper__descr'>${descr}</div>\n    `;\n    parentSelector.append(helper);\n\n    setTimeout(() => {\n        delHelper(helper);\n    }, 3000)\n}\n\nexport default modalHelper;","function moveMouse() {\n    const imgArr = document.querySelectorAll('book__img');\n\n    imgArr.forEach(item => {\n        item.onmousedown = function(e) { // 1. отследить нажатие\n            // подготовить к перемещению\n            // 2. разместить на том же месте, но в абсолютных координатах\n            item.style.position = 'absolute';\n            moveAt(e);\n            // переместим в body, чтобы мяч был точно не внутри position:relative\n            document.body.appendChild(item);\n        \n            item.style.zIndex = 1000; // показывать мяч над другими элементами\n        \n            // передвинуть мяч под координаты курсора\n            // и сдвинуть на половину ширины/высоты для центрирования\n            function moveAt(e) {\n                item.style.left = e.pageX - item.offsetWidth / 2 + 'px';\n                item.style.top = e.pageY - item.offsetHeight / 2 + 'px';\n            }\n        \n            // 3, перемещать по экрану\n            document.onmousemove = function(e) {\n                moveAt(e);\n            }\n        \n            // 4. отследить окончание переноса\n            item.onmouseup = function() {\n                document.onmousemove = null;\n                item.onmouseup = null;\n        \n                \n            }\n        }\n    })\n}\n\n\n\nexport default moveMouse;","function showModal(modal) {\n    modal.classList.remove('hide');\n    modal.classList.add('show');\n    document.body.style = \"overflow: hidden\";\n\n    const shoppingBag = document.querySelector('.shopping-bag__icon');\n    if (shoppingBag.classList.contains('show')) {\n        shoppingBag.classList.add('hide');\n        shoppingBag.classList.remove('show');\n    }\n    \n}\n\nexport default showModal;","import pressCloseModal from \"./closeModal\";\nimport showModal from \"./openModal\";\n\nfunction openPopUp(popUp) {\n\n    const showMoreButtons = document.querySelectorAll('.show-more');\n\n    showMoreButtons.forEach(btn => {\n        btn.addEventListener('click', (e) => {\n            e.preventDefault();\n\n            showModal(popUp);\n\n            const info = e.target.closest('.book__info');\n            const boxAuthor = info.querySelector('.book__author');\n            const boxBookName = info.querySelector('.book__name');\n            const boxDescr = info.querySelector('.book__descr');\n\n            const author = boxAuthor.textContent;\n            const bookName = boxBookName.textContent;\n            const descr = boxDescr.textContent;\n\n            \n            popUp.innerHTML = `\n                <div class='popUp__window'>\n                    <div class='close'>&#10006;</div>\n                    <div class='popUp__name'>${bookName}</div>\n                    <div class='popUp__author'>${author}</div>\n                    <div class='popUp__descr'>${descr}</div>\n                </div>\n            `;\n            \n            pressCloseModal('.popUp');\n        })\n    })\n}\n\nexport default openPopUp;","import showModal from \"./openModal\";\nimport {closeModal} from \"./closeModal\"; \nimport pressCloseModal from \"./closeModal\";\nimport modalHelper from \"./modalHelp\";\nimport finishedOrder from './finishedOrder';\n\nfunction createOrderForm () {\n\n    function checkDateValidation(target) {\n        const currentDate = Date.now();\n        const deliveryDate = target.valueAsNumber;\n      \n        if (deliveryDate > currentDate) {\n            target.setCustomValidity(\"\");\n        } else {\n            target.setCustomValidity(\"Delivery time: one day from the current date\")\n        }\n        target.reportValidity();\n      }\n\n    const makeOrder = document.querySelector('.bag__order');\n    makeOrder.addEventListener('click', () => {\n\n        const orderBG = document.querySelector('.order-bg');\n        const inputs = orderBG.querySelectorAll('input');\n        const orderBtn = orderBG.querySelector('.order-btn');\n        const orderForm = orderBG.querySelector('.order-form');\n        const inputData = document.querySelector('.order-data');\n        const cash = document.querySelector(\"#radio1\");\n        const card = document.querySelector(\"#radio2\");\n\n        let gifts = [];\n        let payment = \"cash\";\n\n        cash.checked = true;\n        orderBtn.setAttribute(\"disabled\", \"true\");\n\n\n        const allChecks = [];\n        inputs.forEach(item => {\n            if (item.type === \"checkbox\") {\n                allChecks.push(item);\n                item.checked = false;\n            }\n        })\n\n        allChecks.forEach(i => {\n            i.addEventListener('click', () => {      \n                if (i.checked === true) {\n                    if (gifts.length < 2) {\n                        i.checked = true;\n                        gifts.push(i.name);\n                    } else {\n                        i.checked = false;\n                        modalHelper(orderForm, '2 gifts already selected');\n                    }\n                }\n                if (i.checked === false) {\n                    gifts = gifts.filter(h => h !== i.name)\n                }\n            })\n        })\n\n        cash.addEventListener('click', () => {\n            cash.checked = true;\n            card.checked = false;\n            payment = \"cash\";\n        }) \n        card.addEventListener('click', () => {\n            cash.checked = false;\n            card.checked = true;\n            payment = \"card\";\n        })\n        inputs.forEach(item => {\n            item.addEventListener(\"change\", (e) => {\n                if (item.type === \"date\") {\n                    checkDateValidation(e.target)  \n                }  \n                if (orderForm.checkValidity() && orderBtn.getAttribute(\"disabled\")) {\n                    orderBtn.removeAttribute(\"disabled\");\n                } \n                if (!orderForm.checkValidity() && !orderBtn.getAttribute(\"disabled\")) {\n                    orderBtn.setAttribute(\"disabled\", \"true\");\n                } \n            })\n        })\n \n\n        let bag = document.querySelector('.bag');\n        closeModal(bag);\n        showModal(orderBG); \n        pressCloseModal('.order-bg');\n\n        // inputData.addEventListener('click', () => {\n        //     modalHelper(orderForm, 'Срок доставки: один день от текущей даты');\n        // })\n\n        orderBtn.addEventListener('click', (e) => {\n\n            e.preventDefault();\n\n            const data = new FormData(orderForm);\n            data.gifts = gifts;\n            data.payment = payment;\n\n            data.name = document.querySelector('.order-name').value;\n            data.surname = document.querySelector('.order-surname').value;\n            data.deliveryData = document.querySelector('.order-data').value;\n            data.street = document.querySelector('.order-street').value;\n            data.house = document.querySelector('.order-house').value;\n            data.flat = document.querySelector('.order-flat').value;\n\n            if (!orderBtn.getAttribute(\"disabled\")) {\n                closeModal(orderBG);\n                finishedOrder(data);\n                orderBtn.setAttribute(\"disabled\", \"true\");\n                console.log(\"Your order - \",data)\n            }\n        })\n    })\n}\nexport default createOrderForm;","const getResource = async() => {\r\n  const res = await fetch('https://irmakdak.github.io/BooksShop/booksDB.json', {\r\n    method: \"GET\"\r\n  }) \r\n  if (!res.ok) {\r\n      throw new Error(`Could not fetch ${url}, status ${res.status}`);\r\n  } else {\r\n    return await res.json();\r\n  }\r\n};\r\n\r\nexport {getResource};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import BookTab from \"./modules/book-tabs\";\nimport openPopUp from \"./modules/openPopUp\";\nimport {getResource} from './services/services';\nimport clickAddToBag from './modules/addToBag';\nimport moveMouse from './modules/moveMouse';\nimport { createLoading, hideLoading } from \"./modules/loading\";\nimport dragDrop from \"./modules/dragDrop\";\n\n\nwindow.addEventListener('DOMContentLoaded', function() {\n\n    const popUp = document.createElement('div');\n    popUp.classList.add('popUp', 'popUp-bg','hide');\n\n    const main = document.querySelector('main');\n    createLoading(main);\n\n    const header = document.createElement('header');\n\n    const headerOne = document.createElement('h1');\n    headerOne.classList.add('header__title');\n    headerOne.textContent= 'Book shop';\n\n    const ul = document.createElement('ul');\n    ul.classList.add('book-list-tabs');\n\n    const bag = document.createElement('div');\n    bag.classList.add('bag', 'hide');\n\n    const shoppingBag = document.createElement('div');\n    shoppingBag.classList.add('shopping-bag', 'show');\n    shoppingBag.innerHTML = `\n        <img src='icons/shopping-bag.svg' class='shopping-bag__icon show'></img>\n    `;\n\n    document.body.prepend(header);\n    document.body.prepend(popUp);\n    header.append(headerOne);\n    main.append(ul);\n    main.append(bag);\n    main.append(shoppingBag);\n\n    const inputs = document.querySelectorAll(\"input\");\n    inputs.forEach(i => {\n        i.value = \"\";\n        if (i.type === 'checkbox') {\n            i.checked = false;\n        }\n    }) \n\n    getResource()\n    .then(data => {\n        console.log(data.booksDB);\n        data.booksDB.forEach(({src, alt, author, bookName, price, descr, id}) => {\n            new BookTab(src, alt, author, bookName, price, descr, id, 'ul').render();\n        })\n    })\n    .then(() => {\n        hideLoading(main);\n        openPopUp(popUp);\n        clickAddToBag(bag, shoppingBag);\n        moveMouse();\n\n        dragDrop();\n    })\n    \n});\n"],"names":[],"sourceRoot":""}